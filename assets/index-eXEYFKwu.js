import{i as I,g as z,a as E,j as e,G as O,s as P,r as d,F as T,b as G,c as K,d as U,e as $,f as D,h as w,k as W,l as J,m as H,n as _,o as M,u as k,p as q,q as V,R as Q,t as X}from"./vendor-CcO-Pwcr.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))l(t);new MutationObserver(t=>{for(const n of t)if(n.type==="childList")for(const r of n.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&l(r)}).observe(document,{childList:!0,subtree:!0});function m(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerPolicy&&(n.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?n.credentials="include":t.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function l(t){if(t.ep)return;t.ep=!0;const n=m(t);fetch(t.href,n)}})();const Y={apiKey:void 0,authDomain:void 0,projectId:void 0,storageBucket:void 0,messagingSenderId:void 0,appId:void 0},L=I(Y),j=z(L),C=E(L),Z=({setScreen:a})=>e.jsxs("div",{className:"screen",id:"splash-screen",children:[e.jsxs("svg",{className:"splash-logo",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("circle",{cx:"50",cy:"50",r:"45",fill:"#F0E7DD"}),e.jsx("path",{d:"M50,10 A40,40 0 0,1 90,50",fill:"none",stroke:"#8B5E3C",strokeWidth:"8"}),e.jsx("path",{d:"M50,90 A40,40 0 0,1 10,50",fill:"none",stroke:"#D4A373",strokeWidth:"8"}),e.jsx("circle",{cx:"50",cy:"50",r:"20",fill:"#fff"}),e.jsx("path",{d:"M50 38 C 55 42, 55 48, 50 52 S 45 58, 50 62",stroke:"#5E7A6E",strokeWidth:"4",fill:"none",strokeLinecap:"round"})]}),e.jsx("h1",{className:"splash-title",children:"–°–ï–ú–ï–ô–ù–û–ï –ú–ï–ù–Æ"}),e.jsxs("div",{className:"splash-features",children:[e.jsxs("div",{className:"feature-slide",children:[e.jsx("div",{className:"feature-icon",children:"üóìÔ∏è"}),e.jsx("div",{className:"feature-text",children:"–ü–ª–∞–Ω–∏—Ä—É–π—Ç–µ –º–µ–Ω—é –Ω–∞ –Ω–µ–¥–µ–ª—é"})]}),e.jsxs("div",{className:"feature-slide",children:[e.jsx("div",{className:"feature-icon",children:"üõí"}),e.jsx("div",{className:"feature-text",children:"–°–æ—Å—Ç–∞–≤–ª—è–π—Ç–µ —É–º–Ω—ã–π —Å–ø–∏—Å–æ–∫ –ø–æ–∫—É–ø–æ–∫"})]}),e.jsxs("div",{className:"feature-slide",children:[e.jsx("div",{className:"feature-icon",children:"üë©‚Äçüç≥"}),e.jsx("div",{className:"feature-text",children:"–ì–æ—Ç–æ–≤—å—Ç–µ –ª–µ–≥–∫–æ –ø–æ —à–∞–≥–∞–º"})]})]}),e.jsxs("div",{className:"splash-author",children:["–ê–≤—Ç–æ—Ä: –ö–ª–∏–º–æ–≤ –ï–≤–≥–µ–Ω–∏–π",e.jsx("br",{}),e.jsx("a",{href:"https://t.me/eklimov",target:"_blank",rel:"noopener noreferrer",children:"Telegram: @eklimov"})]})]}),A=({setScreen:a})=>{const s=async()=>{const m=new O;try{await P(j,m)}catch(l){console.error("–û—à–∏–±–∫–∞ –≤—Ö–æ–¥–∞ —á–µ—Ä–µ–∑ Google:",l)}};return e.jsx("div",{className:"screen",id:"welcome-screen",children:e.jsxs("div",{className:"setup-container",children:[e.jsxs("svg",{className:"setup-logo",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("circle",{cx:"50",cy:"50",r:"45",fill:"#F0E7DD"}),e.jsx("path",{d:"M50,10 A40,40 0 0,1 90,50",fill:"none",stroke:"#8B5E3C",strokeWidth:"8"}),e.jsx("path",{d:"M50,90 A40,40 0 0,1 10,50",fill:"none",stroke:"#D4A373",strokeWidth:"8"}),e.jsx("circle",{cx:"50",cy:"50",r:"20",fill:"#fff"}),e.jsx("path",{d:"M50 38 C 55 42, 55 48, 50 52 S 45 58, 50 62",stroke:"#5E7A6E",strokeWidth:"4",fill:"none",strokeLinecap:"round"})]}),e.jsx("h1",{className:"setup-title",children:"–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å!"}),e.jsx("p",{className:"setup-subtitle",children:"–í–æ–π–¥–∏—Ç–µ, —á—Ç–æ–±—ã —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å –≤–∞—à–µ –º–µ–Ω—é –º–µ–∂–¥—É —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏."}),e.jsx("div",{className:"welcome-buttons",children:e.jsxs("button",{className:"primary-button",id:"google-signin-btn",onClick:s,children:[e.jsxs("svg",{style:{width:"20px",height:"20px",verticalAlign:"middle",marginRight:"10px"},viewBox:"0 0 24 24",children:[e.jsx("path",{fill:"white",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),e.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),e.jsx("path",{fill:"#4A90E2",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l3.66-2.84z"}),e.jsx("path",{fill:"#FBBC05",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"}),e.jsx("path",{fill:"none",d:"M1 1h22v22H1z"})]}),"–í–æ–π—Ç–∏ —á–µ—Ä–µ–∑ Google"]})}),e.jsx("p",{className:"welcome-info",children:"–í—Ö–æ–¥ –ø–æ–∑–≤–æ–ª–∏—Ç –≤–∞–º –±–µ–∑–æ–ø–∞—Å–Ω–æ —Ö—Ä–∞–Ω–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ –æ–±–ª–∞–∫–µ."})]})})},ee=({setScreen:a})=>{const{appState:s,setAppState:m,user:l}=S(),[t,n]=d.useState(1),[r,o]=d.useState(s==null?void 0:s.settings);if(!r)return e.jsx("div",{children:"–ó–∞–≥—Ä—É–∑–∫–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫..."});const v=()=>n(i=>i+1),y=()=>n(i=>i-1),f=i=>{const{name:p,value:g}=i.target;o(N=>({...N,[p]:g}))},c=(i,p,g)=>{const N=[...r.family];N[i]={...N[i],[p]:g},o(B=>({...B,family:N}))},u=()=>{const i={id:new Date().toISOString(),name:"–ù–æ–≤—ã–π —á–ª–µ–Ω —Å–µ–º—å–∏",age:30,weight:70,height:170,gender:"male",activityLevel:"moderate",goal:"maintain"};o(p=>({...p,family:[...p.family,i]}))},x=i=>{const p=r.family.filter((g,N)=>N!==i);o(g=>({...g,family:p}))},h=async()=>{if(l&&s){const i={...s,settings:r};m(i),await D(w(C,"user-data",l.uid),i),a("main")}},b=()=>{switch(t){case 1:return e.jsxs("div",{children:[e.jsx("h2",{className:"wizard-step-title",children:"–®–∞–≥ 1: –í–∞—à–∞ —Å–µ–º—å—è"}),e.jsx("p",{className:"wizard-step-description",children:"–î–æ–±–∞–≤—å—Ç–µ —á–ª–µ–Ω–æ–≤ —Å–µ–º—å–∏, —á—Ç–æ–±—ã –ò–ò –º–æ–≥ —Ä–∞—Å—Å—á–∏—Ç–∞—Ç—å –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–∏ –≤ –ø–∏—Ç–∞–Ω–∏–∏."}),r.family.map((i,p)=>e.jsxs("div",{className:"family-member-card-wizard",children:[e.jsx(K,{className:"family-member-icon"}),e.jsxs("div",{className:"family-member-inputs",children:[e.jsx("input",{type:"text",value:i.name,onChange:g=>c(p,"name",g.target.value),placeholder:"–ò–º—è"}),e.jsx("input",{type:"number",value:i.age,onChange:g=>c(p,"age",parseInt(g.target.value)),placeholder:"–í–æ–∑—Ä–∞—Å—Ç"}),e.jsx("input",{type:"number",value:i.weight,onChange:g=>c(p,"weight",parseInt(g.target.value)),placeholder:"–í–µ—Å (–∫–≥)"})]}),e.jsx("button",{onClick:()=>x(p),className:"remove-member-btn",children:e.jsx(U,{})})]},i.id)),e.jsxs("button",{onClick:u,className:"add-member-btn",children:[e.jsx($,{})," –î–æ–±–∞–≤–∏—Ç—å —á–ª–µ–Ω–∞ —Å–µ–º—å–∏"]})]});case 2:return e.jsxs("div",{children:[e.jsx("h2",{className:"wizard-step-title",children:"–®–∞–≥ 2: –ü—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è –∏ –±—é–¥–∂–µ—Ç"}),e.jsxs("div",{className:"settings-form-group",children:[e.jsx("label",{children:"–û–±—â–∏–µ –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è"}),e.jsx("textarea",{name:"preferences",value:r.preferences,onChange:f,rows:3,placeholder:"–ù–∞–ø—Ä–∏–º–µ—Ä: –ª—é–±–∏–º –∏—Ç–∞–ª—å—è–Ω—Å–∫—É—é –∫—É—Ö–Ω—é, –Ω–µ–∂–∏—Ä–Ω–æ–µ –º—è—Å–æ..."})]}),e.jsxs("div",{className:"settings-form-group",children:[e.jsx("label",{children:"–ü—Ä–µ–¥–ø–æ—á–∏—Ç–∞–µ–º–∞—è –∫—É—Ö–Ω—è"}),e.jsx("input",{type:"text",name:"cuisine",value:r.cuisine,onChange:f,placeholder:"–õ—é–±–∞—è, –ò—Ç–∞–ª—å—è–Ω—Å–∫–∞—è, –ê–∑–∏–∞—Ç—Å–∫–∞—è..."})]}),e.jsxs("div",{className:"settings-form-group",children:[e.jsx("label",{children:"–ñ–µ–ª–∞–µ–º–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å –±–ª—é–¥"}),e.jsx("input",{type:"text",name:"difficulty",value:r.difficulty,onChange:f,placeholder:"–õ—é–±–∞—è, –ü—Ä–æ—Å—Ç–∞—è, –°—Ä–µ–¥–Ω—è—è..."})]}),e.jsxs("div",{className:"settings-form-group",children:[e.jsx("label",{children:"–ë—é–¥–∂–µ—Ç –Ω–∞ –Ω–µ–¥–µ–ª—é, ‚ÇΩ"}),e.jsx("input",{type:"number",name:"totalBudget",value:r.totalBudget,onChange:f})]})]});case 3:return e.jsxs("div",{children:[e.jsx("h2",{className:"wizard-step-title",children:"–®–∞–≥ 3: API –ö–ª—é—á"}),e.jsx("p",{className:"wizard-step-description",children:"–í–≤–µ–¥–∏—Ç–µ –≤–∞—à API-–∫–ª—é—á –æ—Ç Google AI Studio. –û–Ω –Ω—É–∂–µ–Ω –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –º–µ–Ω—é."}),e.jsxs("div",{className:"settings-form-group",children:[e.jsx("label",{children:"Google Gemini API Key"}),e.jsx("input",{type:"password",name:"apiKey",value:r.apiKey||"",onChange:f,placeholder:"–í–≤–µ–¥–∏—Ç–µ –≤–∞—à –∫–ª—é—á"}),e.jsx("a",{href:"https://aistudio.google.com/app/apikey",target:"_blank",rel:"noopener noreferrer",className:"api-key-help-link",children:"–ì–¥–µ –≤–∑—è—Ç—å –∫–ª—é—á?"})]})]});default:return null}};return e.jsx("div",{className:"screen",id:"setup-screen",children:e.jsxs("div",{className:"setup-container",children:[e.jsx("h1",{className:"setup-title",children:"–ú–∞—Å—Ç–µ—Ä –Ω–∞—Å—Ç—Ä–æ–π–∫–∏"}),e.jsxs("p",{className:"wizard-step-counter",children:["–®–∞–≥ ",t," –∏–∑ 3"]}),e.jsx("div",{id:"setup-wizard",children:b()}),e.jsxs("div",{id:"wizard-nav",children:[t>1&&e.jsxs("button",{onClick:y,className:"secondary-button",children:[e.jsx(T,{})," –ù–∞–∑–∞–¥"]}),t<3?e.jsxs("button",{onClick:v,className:"primary-button",children:["–î–∞–ª–µ–µ ",e.jsx(G,{})]}):e.jsx("button",{onClick:h,className:"primary-button",children:"–ó–∞–≤–µ—Ä—à–∏—Ç—å"})]})]})})},se=()=>{const{appState:a}=S();return!a||a.menu.length===0?e.jsx("div",{children:"–ú–µ–Ω—é –Ω–µ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–æ."}):e.jsxs("div",{children:[e.jsx("h2",{children:"–ú–µ–Ω—é –Ω–∞ –Ω–µ–¥–µ–ª—é"}),e.jsx("pre",{children:JSON.stringify(a.menu,null,2)})]})},te=()=>{const{appState:a}=S();return!a||a.shoppingList.length===0?e.jsx("div",{children:"–°–ø–∏—Å–æ–∫ –ø–æ–∫—É–ø–æ–∫ –ø—É—Å—Ç."}):e.jsxs("div",{children:[e.jsx("h2",{children:"–°–ø–∏—Å–æ–∫ –ø–æ–∫—É–ø–æ–∫"}),e.jsx("pre",{children:JSON.stringify(a.shoppingList,null,2)})]})},ne=()=>{const{appState:a}=S();return a?e.jsxs("div",{children:[e.jsx("h2",{children:"–ë—é–¥–∂–µ—Ç"}),e.jsx("pre",{children:JSON.stringify(a.settings.totalBudget,null,2)})]}):e.jsx("div",{children:"–ë—é–¥–∂–µ—Ç –Ω–µ –¥–æ—Å—Ç—É–ø–µ–Ω."})},ae=({setScreen:a})=>{const{appState:s,setAppState:m,user:l,showNotification:t}=S(),[n,r]=d.useState("menu"),[o,v]=d.useState(!1),y=async()=>{if(!(s!=null&&s.settings.apiKey)){t("API –∫–ª—é—á –Ω–µ –Ω–∞–π–¥–µ–Ω –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö.","error"),a("settings");return}v(!0),t("–ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –º–µ–Ω—é...","loading");try{const u=`–°–≥–µ–Ω–µ—Ä–∏—Ä—É–π –º–µ–Ω—é –Ω–∞ ${s.settings.menuDuration} –¥–Ω–µ–π –¥–ª—è —Å–µ–º—å–∏: ${JSON.stringify(s.settings.family)}. –ü—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è: ${s.settings.preferences}. –ë—é–¥–∂–µ—Ç: ${s.settings.totalBudget}. –ö—É—Ö–Ω—è: ${s.settings.cuisine}. –°–ª–æ–∂–Ω–æ—Å—Ç—å: ${s.settings.difficulty}.`,x=await generateContent(u),h=JSON.parse(x);if(h.error)throw new Error(h.error);const b={...s,menu:h.menu||[],recipes:h.recipes||{},shoppingList:h.shoppingList||[],timestamp:Date.now()};m(b),l&&await D(w(C,"user-data",l.uid),b),t("–ú–µ–Ω—é —É—Å–ø–µ—à–Ω–æ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–æ!","success")}catch(u){console.error("–û—à–∏–±–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –º–µ–Ω—é:",u),t(`–û—à–∏–±–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –º–µ–Ω—é: ${u.message||u}`,"error")}finally{v(!1)}},f=()=>{switch(n){case"menu":return e.jsx(se,{});case"shopping":return e.jsx(te,{});case"budget":return e.jsx(ne,{});default:return null}},c=()=>{switch(n){case"menu":return"–ú–µ–Ω—é –Ω–∞ –Ω–µ–¥–µ–ª—é";case"shopping":return"–°–ø–∏—Å–æ–∫ –ø–æ–∫—É–ø–æ–∫";case"budget":return"–ë—é–¥–∂–µ—Ç";default:return"–°–µ–º–µ–π–Ω–æ–µ –º–µ–Ω—é"}};return e.jsxs("div",{className:"screen",id:"main-screen",children:[e.jsxs("header",{className:"main-header",children:[e.jsx("h1",{id:"main-header-title",children:c()}),e.jsx("button",{id:"open-settings-btn",onClick:()=>a("settings"),children:l!=null&&l.photoURL?e.jsx("img",{src:l.photoURL,alt:"User settings",className:"header-avatar"}):e.jsx(W,{})})]}),e.jsx("div",{className:"content-area",children:(s==null?void 0:s.menu.length)===0?e.jsxs("div",{className:"empty-state",children:[e.jsx("h2",{children:"–ú–µ–Ω—é –µ—â–µ –Ω–µ —Å–æ–∑–¥–∞–Ω–æ"}),e.jsx("p",{children:"–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏, —á—Ç–æ–±—ã —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –≤–∞—à–µ –ø–µ—Ä–≤–æ–µ –º–µ–Ω—é."}),e.jsx("button",{className:"primary-button",onClick:y,disabled:o,children:o?"–ì–µ–Ω–µ—Ä–∞—Ü–∏—è...":"‚ú® –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –º–µ–Ω—é —Å –ø–æ–º–æ—â—å—é AI"})]}):f()}),e.jsxs("nav",{className:"bottom-nav",children:[e.jsxs("button",{className:`nav-button ${n==="menu"?"active":""}`,onClick:()=>r("menu"),children:[e.jsx(J,{}),e.jsx("span",{children:"–ú–µ–Ω—é"})]}),e.jsxs("button",{className:`nav-button ${n==="shopping"?"active":""}`,onClick:()=>r("shopping"),children:[e.jsx(H,{}),e.jsx("span",{children:"–ü–æ–∫—É–ø–∫–∏"})]}),e.jsxs("button",{className:`nav-button ${n==="budget"?"active":""}`,onClick:()=>r("budget"),children:[e.jsx(_,{}),e.jsx("span",{children:"–ë—é–¥–∂–µ—Ç"})]})]})]})},re=({setScreen:a})=>{const[s,m]=d.useState(null),[l,t]=d.useState(!0),[n,r]=d.useState(!1);d.useEffect(()=>{(async()=>{if(j.currentUser){t(!0);const u=w(C,"users",j.currentUser.uid),x=await M(u);x.exists()&&m(x.data()),t(!1)}})()},[]);const o=c=>{const{name:u,value:x}=c.target;m(h=>({...h,[u]:x}))},v=async()=>{if(j.currentUser){r(!0);try{const c=w(C,"users",j.currentUser.uid);await k(c,s),alert("–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã!")}catch(c){console.error("–û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–∫:",c),alert("–ù–µ —É–¥–∞–ª–æ—Å—å —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏.")}finally{r(!1)}}},y=async()=>{try{await q(j)}catch(c){console.error("–û—à–∏–±–∫–∞ –≤—ã—Ö–æ–¥–∞:",c)}},f=async()=>{if(j.currentUser&&window.confirm("–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —Å–±—Ä–æ—Å–∏—Ç—å –≤—Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏ –Ω–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ?"))try{const c=w(C,"users",j.currentUser.uid);await k(c,{setupComplete:!1}),a("setup")}catch(c){console.error("–û—à–∏–±–∫–∞ —Å–±—Ä–æ—Å–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫:",c)}};return l?e.jsx("div",{className:"screen",children:"–ó–∞–≥—Ä—É–∑–∫–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫..."}):s?e.jsxs("div",{className:"screen active",id:"settings-screen",children:[e.jsxs("header",{className:"recipe-header",children:[e.jsx("button",{className:"back-button",onClick:()=>a("main"),children:"‚Üê –ù–∞–∑–∞–¥"}),e.jsx("h2",{id:"settings-title",children:"–ù–∞—Å—Ç—Ä–æ–π–∫–∏"})]}),e.jsxs("div",{id:"settings-content",children:[e.jsxs("div",{className:"settings-section",children:[e.jsx("h3",{className:"settings-title",children:"–û—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏"}),e.jsxs("div",{className:"settings-form-group",children:[e.jsx("label",{htmlFor:"apiKey",children:"Google Gemini API –ö–ª—é—á"}),e.jsx("input",{type:"password",id:"apiKey",name:"apiKey",value:s.apiKey,onChange:o})]}),e.jsxs("div",{className:"settings-form-group",children:[e.jsx("label",{htmlFor:"familyName",children:"–ù–∞–∑–≤–∞–Ω–∏–µ —Å–µ–º—å–∏"}),e.jsx("input",{type:"text",id:"familyName",name:"familyName",value:s.familyName,onChange:o})]})]}),e.jsxs("div",{className:"settings-section",children:[e.jsx("h3",{className:"settings-title",children:"–ü—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è"}),e.jsxs("div",{className:"settings-form-group",children:[e.jsx("label",{htmlFor:"preferences",children:"–û–±—â–∏–µ –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è"}),e.jsx("textarea",{id:"preferences",name:"preferences",value:s.preferences,onChange:o,rows:3})]}),e.jsxs("div",{className:"settings-form-group",children:[e.jsx("label",{htmlFor:"dietaryRestrictions",children:"–î–∏–µ—Ç–∏—á–µ—Å–∫–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è"}),e.jsx("textarea",{id:"dietaryRestrictions",name:"dietaryRestrictions",value:s.dietaryRestrictions,onChange:o,rows:3})]}),e.jsxs("div",{className:"settings-form-group",children:[e.jsx("label",{htmlFor:"kitchenAppliances",children:"–ö—É—Ö–æ–Ω–Ω–∞—è —Ç–µ—Ö–Ω–∏–∫–∞"}),e.jsx("textarea",{id:"kitchenAppliances",name:"kitchenAppliances",value:s.kitchenAppliances,onChange:o,rows:3})]})]}),e.jsx("button",{onClick:v,className:"primary-button",disabled:n,children:n?"–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ...":"–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è"}),e.jsxs("div",{className:"settings-section",style:{marginTop:"20px"},children:[e.jsx("h3",{className:"settings-title",style:{color:"var(--danger-color)"},children:"–û–ø–∞—Å–Ω–∞—è –∑–æ–Ω–∞"}),e.jsx("button",{onClick:y,className:"secondary-button",style:{marginBottom:"10px"},children:"–í—ã–π—Ç–∏ –∏–∑ –∞–∫–∫–∞—É–Ω—Ç–∞"}),e.jsx("button",{onClick:f,className:"danger-button",children:"–°–±—Ä–æ—Å–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏ –Ω–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ"})]})]})]}):e.jsx("div",{className:"screen",children:"–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏."})},R=d.createContext(null),S=()=>d.useContext(R),ie=()=>({settings:{apiKey:null,family:[],preferences:"–ë–µ–∑ —Ä—ã–±—ã, –±–µ–∑ –≥—Ä–∏–±–æ–≤",menuDuration:7,totalBudget:15e3,cuisine:"–õ—é–±–∞—è",difficulty:"–õ—é–±–∞—è"},menu:[],recipes:{},shoppingList:[],cookedMeals:{},timestamp:null}),ce=()=>{const[a,s]=d.useState("splash"),[m,l]=d.useState(null),[t,n]=d.useState(null),[r,o]=d.useState(!0),[v,y]=d.useState({show:!1,message:"",type:"success"});d.useEffect(()=>{const u=V(j,async h=>{if(h){l(h);const b=w(C,"user-data",h.uid),i=await M(b);i.exists()?(n(i.data()),s("main")):(n(ie()),s("setup"))}else l(null),n(null),s("welcome");o(!1)}),x=setTimeout(()=>{r&&(s("welcome"),o(!1))},3e3);return()=>{u(),clearTimeout(x)}},[]);const f=(u,x="success")=>{y({show:!0,message:u,type:x})},c=()=>{if(r)return e.jsx(Z,{});switch(a){case"welcome":return e.jsx(A,{setScreen:s});case"setup":return e.jsx(ee,{setScreen:s});case"main":return e.jsx(ae,{setScreen:s});case"settings":return e.jsx(re,{setScreen:s});default:return e.jsx(A,{setScreen:s})}};return e.jsx(R.Provider,{value:{appState:t,setAppState:n,user:m,showNotification:f},children:e.jsx("div",{id:"app",children:c()})})},F=document.getElementById("app");F?Q.createRoot(F).render(e.jsx(X.StrictMode,{children:e.jsx(ce,{})})):console.error("Failed to find the root element");
